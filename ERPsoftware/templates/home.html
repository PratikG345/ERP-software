{% extends "layout.html" %}
{% block title %}
ERP Dashboard
{% endblock %}

{% block content %}

<h1 class="mb-4">Dashboard</h1>

<!-- TOP SUMMARY CARDS -->
<div class="row g-4 mb-4">

    <div class="col-md-3">
        <div class="card shadow-sm border-0 bg-danger">
            <div class="card-body">
                <h6 class="text-muted">Total Items</h6>
                <h3 class="text-white">{{ item }}</h3>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card shadow-sm border-0 bg-primary">
            <div class="card-body">
                <h6 class="text-muted">Total Accounts</h6>
                <h3 class="text-white">{{ account }}</h3>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card shadow-sm border-0 bg-success">
            <div class="card-body">
                <h6 class="text-muted">Total Stores</h6>
                <h3 class="text-white">{{ stock }}</h3>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card shadow-sm border-0 bg-info">
            <div class="card-body">
                <h6 class="text-muted">FG / RM Items</h6>
                <h5 class="text-white">FG: {{ fg }}</h5>
                <h5 class="text-white">RM: {{ rm }}</h5>
            </div>
        </div>
    </div>

</div>


<!-- ACTIVITY SECTION -->
<div class="row g-4">

    <!-- Latest Items -->
    <div class="col-md-6">
        <div class="card shadow-sm border-0">
            <div class="card-header bg-warning">
                <strong>Latest Items</strong>
                <a href="{% url 'itemMaster' %}">(See all)</a>
            </div>
            <div class="card-body">
                <ul class="list-group list-group-flush">
                    {% for i in latest %}
                        <li class="list-group-item">
                            {{ i.item_type }} - {{ i.name }} ({{ i.unit }})
                        </li>
                    {% empty %}
                        <li class="list-group-item text-muted">
                            No items available
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

    <!-- Latest Accounts -->
    <div class="col-md-6">
        <div class="card shadow-sm border-0">
            <div class="card-header bg-warning">
                <strong>Latest Accounts</strong>
                <a href="{% url 'account' %}">(See all)</a>
            </div>
            <div class="card-body">
                <ul class="list-group list-group-flush">
                    {% for i in latest_acc %}
                        <li class="list-group-item">
                            {{ i.Account_category }} - {{ i.ledger_name }}
                        </li>
                    {% empty %}
                        <li class="list-group-item text-muted">
                            No accounts available
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

</div>

{% endblock %}
